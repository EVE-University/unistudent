{% extends 'unistudent/base.html' %}

{% load i18n %}
{% load humanize %}

{% block details %}
<div class="card card-primary">
    <div class="card-header">
        <div class="card-title">{% translate "Directors Tokens" %}</div>
    </div>

    <div class="card-body">

        <p>{{ text }}</p>

        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>{% translate "User" %}</th>
                    <th>{% translate "Token Age (days)" %}</th>
                    <th>{% translate "Last Pull" %}</th>
                    <th>{% translate "Valid Token" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for o in owners %}
                <tr>
                    <td>{{ o.username }}</td>
                    <td>{{ o.age_days }}</td>
                    <td>
                        {% if o.last_pull %}
                            {{ o.last_pull|naturaltime }}
                        {% else %}
                            {% translate "Never" %}
                        {% endif %}
                    </td>
                    <td>{{ o.valid_token }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="text-center text-muted">
                        {% translate "No owners found." %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
</div>
{% endblock %}
